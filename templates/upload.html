{% extends 'base.html' %}
{% block title %}Leitor · Twelve Tech{% endblock %}
{% block content %}
<div class="row g-4">
  <div class="col-lg-7">
    <div class="card p-4 shadow">
      <h3 class="mb-3">Leitor Twelve Tech</h3>
      <p class="text-muted mb-3">Envie .xlsx/.xls/.csv com colunas <b>Map</b>, <b>Type</b>, <b>Splices</b> e <b>Device</b>. Também aceitamos <em>Created</em> e <em>Splicer</em>.</p>
      <form method="post" enctype="multipart/form-data">
        <div class="mb-3">
          <label class="form-label">Arquivo</label>
          <input class="form-control" type="file" name="file" required>
          <div class="form-text">Detectamos cabeçalhos automaticamente (maiúsculas/minúsculas e sinônimos).</div>
        </div>
        <button class="btn btn-primary">Enviar e Processar</button>
      </form>
    </div>
  </div>
  <div class="col-lg-5">
    <div class="card p-4 shadow">
      <h5 class="mb-2">Resumo</h5>
      <p class="stat mb-1">Registros no banco: <b>{{ total_rows }}</b></p>
      <p class="stat mb-0">Valor total acumulado: <b>R$ {{ '%.2f'|format(total_amount or 0) }}</b></p>
    </div>
    <div class="card p-4 shadow mt-4">
      <h6 class="mb-2">Dicas</h6>
      <ul class="text-muted mb-0">
        <li>Múltiplas abas são somadas automaticamente.</li>
        <li>Nomes alternativos como “Fusões”, “Splice Qty” também funcionam.</li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
